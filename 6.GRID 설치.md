# 6.GRID 설치

- 설치파일 압축해제

아래의 링크에서 Oracle Grid, Oracle Database를 다운로드하고 리눅스에 업로드한다.

https://www.oracle.com/kr/database/technologies/oracle19c-linux-downloads.html

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/6f5b8a53-76ff-498c-8438-a22a44133434)

1번 노드에 oracle 유저로 접속해서 $GI_HOME 경로를 생성하고, $GRID_HOME에 업로드한 grid ZIP 파일을 해제한다.

```
[root@19crac1 ~]# su - oracle
[19cracdb1:~]$ unzip LINUX.X64_193000_grid_home.zip -d $GI_HOME
```

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/851dc83b-73de-4c1d-a8ff-03ddb73fdfba)

- cvuqdisk 패키지 설치

root 유저로 접속해서 다음의 패키지를 설치한다.

2번노드에도 전송해서 설치한다.

```
#root 유저로 접속
[root@19crac1 ~]# cd $GI_HOME/cv/rpm
[root@19crac1 rpm]# rpm -ivh cvuqdisk-1.0.10-1.rpm

#2번 노드로 rpm 전송
[root@19crac1 rpm]# scp cvuqdisk-*.rpm 19crac2-priv:/tmp
[root@19crac1 rpm]# ssh root@19crac2

#cvuqdisk 패키지 설치 (2번 노드)
[root@19crac2 ~]# cd /tmp
[root@19crac2 ~]# rpm -ivh cvuqdisk-*.rpm
[root@19crac2 ~]# exit
```

- oracle 유저가 비밀번호 없이 SSH 접속가능하게 설정

```
[19cracdb1:grid]$ cd $GRID_HOME/oui/prov/resources/scripts
[19cracdb1:scripts]$ ./sshUserSetup.sh -user oracle -hosts "19crac1-priv 19crac2-priv" -noPromptPassphrase -advanced
```
값을 입력하는 창이 나오면 yes를 치고, 

1번노드 oracle패스워드, 2번노드 oracle패스워드를 입력한다. (총 두번)

- OPatch 적용하기

```
[19cracdb1:~]$ cd $GRID_HOME
[19cracdb1:grid]$ $GRID_HOME/OPatch/opatch version -oh $GRID_HOME
OPatch Version: 12.2.0.1.17

OPatch succeeded.
```

- **Grid 설치하기**

```
[19cracdb1:grid]$ export DISPLAY=192.168.19.9:0.0
[19cracdb1:grid]$ ./gridSetup.sh
```

**※만약에 grid 설치 창에서  [INS-08101] supported OSCheck 에러가 발생하면 아래의 코드를 수행한다.**
```
[19cracdb1:grid]$ export CV_ASSUME_DISTID=OEL8.4
```

**※만약에 grid 설치 창에서 글자가 깨지면 리눅스 언어가 한글로 되어있는지 확인하고 영어로 바꾼다.**

```
[19cracdb1:~]$ locale
[19cracdb1:~]$ LANG=en_US
```

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/f953fe2c-e3ce-4484-82c9-2bc602244109)

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/c10c0e50-4e4e-4f20-952b-02ef8369a862)

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/17b9297e-0aeb-46b7-8613-94cd099a6d24)

클러스터명과 SCAN 이름을 입력한다.

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/6804e2ce-836f-42af-890b-4de592f34190)

Add를 눌러 2번노드에 대한 정보를 입력한다.

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/7215ac92-4f98-4832-8bf8-bba83fef7264)

SSH Connectivity를 누르고 oracle 유저의 패스워드를 입력한 뒤 Test를 해본다.
