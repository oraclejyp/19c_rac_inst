# **3.리눅스 환경 설정**

- **네트워크 설정**

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/f2e59333-6725-4742-ba04-58b209fb1cc9)

오른쪽 위의 전원버튼을 누르고 도구 그림을 눌러 환경설정에 들어간다.

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/0dc926df-24ca-4537-8422-082d1d97ab84)

네트워크 - 이더넷의 각각 설정에 들어간다.

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/43148f7b-cec8-4556-a45a-3ff9d9268dfb)

자동으로 연결을 체크한다.

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/8e9ae993-7e92-4a19-b3a1-32320a4a757e)

ip4에 들어가서 고정ip로 설정한다. 별도의 DNS서버를 구성하지 않을 것이므로 DNS서버는 127.0.0.1로 설정한다.

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/c8c124b7-1490-48c5-ad9f-becdc05815df)

ip6는 사용하지 않는다.

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/c1ebcd45-3454-4c4b-b1c4-a4884c093d82)

private 네트워크도 설정한다. 게이트웨이와 DNS서버는 입력하지 않는다.

- **해상도 변경**

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/4dde5b2b-bcd2-4b9c-b085-1b651f71afce)

장치 - 디스플레이에서 해상도를 변경한다.



- **모바텀(mobaxterm)에 접속해본다.**

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/03b5a556-293b-4ae3-b86e-0da73b70a94f)

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/b6f38908-a001-4dbb-a32f-f9f796aa502c)

세션 - SSH에서 private ip를 이용해 호스트에서 접속한다.

- **리눅스 설치 정보를 확인한다.**

```
[root@rac1 ~]# uname -a
[root@rac1 ~]# cat /etc/os-release
```

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/0e94ce6f-fd8a-4b76-88b8-8fae0f57cd3a)


- **불필요한 서비스 정리**

```
### 방화벽 중지
systemctl stop firewalld
systemctl disable firewalld

### 블루투스 중지
systemctl stop bluetooth
systemctl disable bluetooth

### 시간 동기화 중지
systemctl stop chronyd
systemctl disable chronyd
mv /etc/chrony.conf /etc/chrony.conf.bak

### NTP 중지
systemctl stop ntpdate
systemctl disable ntpdate

### AVAHI 중지
systemctl stop avahi-daemon.socket
systemctl disable avahi-daemon.socket
systemctl stop avahi-daemon
systemctl disable avahi-daemon

### 가상 시스템 관리 중지
systemctl stop libvirtd
systemctl disable libvirtd
```
- **SELINUX 비활성화 하기**

```
[root@rac1 ~]# vi /etc/selinux/config
```

SELINUX=disabled로 변경한다.


- **hosts 파일 수정**
```
[root@rac1 ~]# vi /etc/hosts

### Public
10.0.2.15  19crac1
10.0.2.16  19crac2        
### Private
192.168.56.101  19crac1-priv 
192.168.56.102  19crac2-priv
### Virtual
10.0.2.111  19crac1-vip 
10.0.2.112  19crac2-vip 
### SCAN
10.0.2.120  19crac-scan    
10.0.2.121  19crac-scan    
10.0.2.122  19crac-scan    
```

- **dnsmasq 활성화하기**

```
[root@rac1 ~]# vi /etc/dnsmasq.conf
```

local=/localdomain/ 로 변경한다.

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/69ecbd74-979d-4432-92cc-b9fd39c33950)

```
[root@rac1 ~]# systemctl start dnsmasq
[root@rac1 ~]# systemctl enable dnsmasq

[root@rac1 ~]# nslookup rac-scan
```

nslookup 명령어 수행을 위해 재부팅이 필요하면 수행한다.

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/5716153f-6012-4c39-8617-a7c84fca9254)

- **resolv.conf 내용 확인하기**

```
[root@rac1 ~]# cat /etc/resolv.conf
```

![image](https://github.com/oraclejyp/19c_rac_inst/assets/133745372/4fedc55b-c6c7-4d17-93d8-c39715c96b27)

- **필수 패키지 설치**

오라클 설치 전에 preinstall 패키지를 설치한다.

```
[root@19crac1 ~]# yum install -y oracle-database-preinstall-19c
```

ㅁ

ㅁ

- **그룹 및 패스워드 설정**

```
[root@19crac1 ~]# usermod -g dba -G dba oracle
[root@19crac1 ~]# passwd oracle
```


- **사전설정 패키지 및 ASMLib 설치**

https://www.oracle.com/linux/downloads/linux-asmlib-v8-downloads.html

에서 oracleasmlib-2.0.17-1.el8.x86_64.rpm를 다운로드하고 모바텀을 이용해 리눅스에 올린다.

https://yum.oracle.com/repo/OracleLinux/OL8/addons/x86_64/index.html

에서 oracleasm-support-2.1.12-1.el8.x86_64.rpm을 다운로드하고 모바텀을 이용해 리눅스에 올린다.

```
[root@19crac1 ~]# rpm -ivh oracleasmlib-2.0.17-1.el8.x86_64.rpm
[root@19crac1 ~]# rpm -ivh oracleasm-support-2.1.12-1.el8.x86_64.rpm
```

- **공유메모리 값 설정**

/etc/sysctl.conf의 shmmax, shmall 값을 메모리값인 4GB로 수정한다.





shmmax = 단일 프로세스가 공유 메모리를 호출하기 위한 최대 값

shmall = 모든 프로세스가 사용할 수 있는 총 공유 메모리 값
